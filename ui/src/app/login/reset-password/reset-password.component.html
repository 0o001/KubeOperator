<clr-modal [(clrModalOpen)]="opened" [clrModalStaticBackdrop]="true" [clrModalClosable]="false">
    <h3 class="modal-title">{{'FIRST_LOGIN_RESET' | translate}}</h3>
    <div class="modal-body body-format password-body">
        <form autocomplete="off" #resetPasswordFrom="ngForm" clrForm>
            <clr-input-container>
                <label>{{'APP_NEW_PASSWORD'|translate}}</label>
                <input clrInput size=45 type="password" minlength="6" maxlength="30"  [(ngModel)]="password" name="password"
                       pattern="{{passwordPattern}}" (change)="checkPassword()" required>
                <clr-control-helper
                        *ngIf="!checkPassword() && password &&confirmPassword">{{'APP_PASSWORD_HELP_MSG'|translate}}</clr-control-helper>
                <clr-control-error>{{'APP_PASSWORD_ERROR_MSG'|translate}}</clr-control-error>
            </clr-input-container>
            <clr-input-container>
                <label>{{'APP_CONFIRM_NEW_PASSWORD'|translate}}</label>
                <input clrInput size=45 minlength="6" maxlength="30" type="password" [(ngModel)]="confirmPassword" name="confirmPassword"
                       pattern="{{passwordPattern}}" (change)="checkPassword()" required>
                <clr-control-helper *ngIf="!checkPassword() && password &&confirmPassword">{{'APP_PASSWORD_HELP_MSG'|translate}}</clr-control-helper>
                <clr-control-error>{{'APP_PASSWORD_ERROR_MSG'|translate}}</clr-control-error>
            </clr-input-container>
        </form>
        <app-modal-alert></app-modal-alert>
    </div>
    <div class="modal-footer">
        <span class="spinner spinner-inline loading-top" [hidden]="loading === false"></span>
        <button type="button" class="btn" (click)="close()">{{ 'APP_CANCEL' | translate}}</button>
        <button type="button" id="submit-btn" class="btn btn-primary"
                [disabled]="resetPasswordFrom.invalid ||  loading"
                (click)="reset()">{{'APP_COMMIT' | translate}}</button>
    </div>
</clr-modal>